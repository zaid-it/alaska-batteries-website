<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alaska Batteries</title>
  <link rel="icon" type="image/png" href="assets/favicon.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="css/style.css" />
  <style>
    /* Hide scrollbar for mobile carousel */
    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }

    .scrollbar-hide {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>

</head>

<body class="bg-gray-100 overflow-x-hidden">
  <div id="header-placeholder"></div>

  <main id="top" class="bg-gray-100">
    <section class="flex items-center justify-center text-center bg-gray-100 overflow-hidden group hero-fold">
      <div class="relative h-[200px] md:h-full w-full flex flex-col banner-wrapper">
        <img src="assets/Tech-landing.png" alt="Technology Landing"
          class="w-full h-full transition-transform duration-1000" />
        <div id="hero-text-box"
          class="absolute top-20 left-0 right-0 md:bottom-auto md:top-20 md:left-8 md:w-[500px] bg-black/75 px-4 py-2 md:px-8 md:py-8 md:rounded-lg md:border md:border-white/20 md:bg-black/80 overflow-hidden banner-overlay">
          <h1 class="text-2xl md:text-5xl font-bold uppercase text-left tracking-normal leading-tight text-white">
            Graphite <br />
            Technology
          </h1>
        </div>
      </div>
    </section>

    <!-- Auto-Scroll Banner Section -->
    <section class="bg-gray-100 py-0">
      <div class="container mx-auto px-0 md:px-24">
        <h2 class="lg:block font-bold text-center text-5xl md:text-7xl tracking-tight leading-tight mb-2 md:mb-16">
          Why
          <span class="text-[#c00d1e]">Graphite?</span>
        </h2>
        <!-- Banner Image -->
        <div class="relative w-full h-[250px] md:h-[600px] overflow-hidden bg-gray-200">
          <img id="bannerImage" src="assets/technology/tech-1.png" alt="Technology Banner"
            class="absolute w-full h-full object-cover"
            style="transform: translateX(0); transition: transform 700ms ease-in-out;" />
          <img id="bannerImageNext" src="assets/technology/tech-2.png" alt="Technology Banner"
            class="absolute w-full h-full object-cover"
            style="transform: translateX(100%); transition: transform 700ms ease-in-out;" />
        </div>

        <!-- Content Tabs -->
        <div class="md:grid md:grid-cols-3 md:gap-1 bg-gray-100">
          <!-- Mobile Dynamic Text Display -->
          <div class="md:hidden bg-black">
            <div class="px-8 py-6">
              <div class="mb-3">
                <div id="mobileLine" class="w-12 h-1 bg-[#c00d1e]"></div>
              </div>
              <h3 id="mobileTitle"
                class="text-base font-black uppercase mb-2 text-white transition-opacity duration-300">Cycle Life and
                Longevity</h3>
              <p id="mobileDesc" class="text-gray-300 text-xs leading-relaxed transition-opacity duration-300">Superior
                conductivity and longer battery life with cutting-edge graphite technology</p>
            </div>
          </div>

          <!-- Desktop Grid Tabs -->
          <div class="hidden md:grid md:grid-cols-3 md:gap-1 md:bg-gray-100 col-span-3">
            <!-- Tab 1: Desktop -->
            <div class="tab-item cursor-pointer transition-all duration-300" data-index="0" onclick="selectTab(0)">
              <div class="p-8 text-left">
                <div class="mb-4">
                  <div class="w-50 h-1 bg-[#c00d1e] tab-accent"></div>
                </div>
                <h3 class="text-xl font-black uppercase mb-4 text-black tab-title">Cycle Life and Longevity</h3>
                <p class="text-black text-base tab-desc">Superior conductivity and longer battery life with cutting-edge
                  graphite technology</p>
              </div>
            </div>

            <!-- Tab 2: Desktop -->
            <div class="tab-item cursor-pointer transition-all duration-300" data-index="1" onclick="selectTab(1)">
              <div class="p-8 text-left">
                <div class="mb-4">
                  <div class="w-50 h-1 bg-gray-300 tab-accent"></div>
                </div>
                <h3 class="text-xl font-black uppercase mb-4 text-black tab-title">Advance Plate Composition & Energy
                  Efficiency</h3>
                <p class="text-black text-base tab-desc">Exceptional performance and reliability for critical power
                  applications</p>
              </div>
            </div>

            <!-- Tab 3: Desktop -->
            <div class="tab-item cursor-pointer transition-all duration-300" data-index="2" onclick="selectTab(2)">
              <div class="p-8 text-left">
                <div class="mb-4">
                  <div class="w-50 h-1 bg-gray-300 tab-accent"></div>
                </div>
                <h3 class="text-xl font-black uppercase mb-4 text-black tab-title">Deep Discharge Recovery</h3>
                <p class="text-black text-base tab-desc">Best of both worlds combining advanced materials for optimal
                  efficiency</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- YouTube Thumbnail Button -->
    <section class="pb-4 md:pb-16">
      <h2 class="font-bold text-center text-2xl md:text-7xl tracking-tight leading-tight py-4 md:mb-2">
        Graphite Technology is the
        <span class="text-[#c00d1e]">Future</span>
      </h2>
      <div class="flex justify-center py-2 md:py-8 px-4">
        <div class="relative w-full max-w-2xl cursor-pointer group" onclick="openTechVideoModal()">
          <img src="https://img.youtube.com/vi/nu4N6ER5VB4/maxresdefault.jpg" alt="Watch Technology Video"
            class="w-full rounded-lg shadow-2xl group-hover:shadow-[0_0_30px_rgba(204,0,27,0.4)] transition-all duration-300" />
          <div class="absolute inset-0 flex items-center justify-center">
            <div
              class="bg-[#c00d1e] w-24 h-24 rounded-full flex items-center justify-center shadow-2xl group-hover:scale-110 group-hover:bg-white transition-all duration-300">
              <i class="fa-solid fa-play text-white text-5xl ml-2 group-hover:text-[#c00d1e] transition-all"></i>
            </div>
          </div>
          <div class="absolute bottom-6 left-6 flex items-center gap-2 bg-black/70 px-4 py-2 rounded-lg">
            <i class="fa-brands fa-youtube text-red-600 text-xl"></i>
            <span class="text-white font-bold">Watch Video</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Tech Modal - Outside main for proper fixed positioning -->
  <div id="techmodal" class="techmodal-overlay" style="display: none;">
    <div class="techmodal-box">
      <span class="techmodal-close">&times;</span>
      <iframe id="techmodal-iframe" width="100%" height="420" src="" frameborder="0" allow="autoplay; encrypted-media"
        allowfullscreen></iframe>
    </div>
  </div>

  <div id="footer-placeholder"></div>
  <script src="js/components.js"></script>
  <script src="js/main.js"></script>
  <script src="js/animations.js"></script>

  <script>
    // Auto-scroll banner functionality
    const bannerData = [
      {
        image: 'assets/technology/tech-1.png',
        title: 'Cycle Life and Longevity',
        desc: 'Superior conductivity and longer battery life with cutting-edge graphite technology'
      },
      {
        image: 'assets/technology/tech-2.png',
        title: 'Advance Plate Composition & Energy Efficiency',
        desc: 'Exceptional performance and reliability for critical power applications'
      },
      {
        image: 'assets/technology/tech-3.png',
        title: 'Deep Discharge Recovery',
        desc: 'Best of both worlds combining advanced materials for optimal efficiency'
      }
    ];

    let currentIndex = 0; // Start with first tab active
    let autoScrollTimer;
    let resumeTimer;

    function selectTab(index) {
      currentIndex = index;
      updateBanner();
      updateTabs();

      // Clear existing timers
      clearTimeout(autoScrollTimer);
      clearTimeout(resumeTimer);

      // Resume auto-scroll after 5 seconds
      resumeTimer = setTimeout(() => {
        startAutoScroll();
      }, 5000);
    }

    function updateBanner() {
      const bannerImage = document.getElementById('bannerImage');
      const bannerImageNext = document.getElementById('bannerImageNext');

      // Set the next image source
      bannerImageNext.src = bannerData[currentIndex].image;

      // Start animation: slide both images left
      bannerImage.style.transform = 'translateX(-100%)';
      bannerImageNext.style.transform = 'translateX(0)';

      // After animation completes, reset for next transition
      setTimeout(() => {
        // Swap the images
        const tempSrc = bannerImage.src;
        bannerImage.src = bannerImageNext.src;
        bannerImageNext.src = tempSrc;

        // Reset positions without transition
        bannerImage.style.transition = 'none';
        bannerImageNext.style.transition = 'none';

        bannerImage.style.transform = 'translateX(0)';
        bannerImageNext.style.transform = 'translateX(100%)';

        // Re-enable transitions
        setTimeout(() => {
          bannerImage.style.transition = 'transform 700ms ease-in-out';
          bannerImageNext.style.transition = 'transform 700ms ease-in-out';
        }, 50);
      }, 700);
    }

    function updateTabs() {
      const tabs = document.querySelectorAll('.tab-item');

      // Update mobile text dynamically
      const mobileTitle = document.getElementById('mobileTitle');
      const mobileDesc = document.getElementById('mobileDesc');

      if (mobileTitle && mobileDesc) {
        // Fade out
        mobileTitle.style.opacity = '0';
        mobileDesc.style.opacity = '0';

        setTimeout(() => {
          // Update text
          mobileTitle.textContent = bannerData[currentIndex].title;
          mobileDesc.textContent = bannerData[currentIndex].desc;

          // Fade in
          mobileTitle.style.opacity = '1';
          mobileDesc.style.opacity = '1';
        }, 150);
      }

      tabs.forEach((tab) => {
        const tabIndex = parseInt(tab.getAttribute('data-index'));
        const title = tab.querySelector('.tab-title');
        const desc = tab.querySelector('.tab-desc');
        const accent = tab.querySelector('.tab-accent');

        if (tabIndex === currentIndex) {
          tab.classList.add('active');
          if (accent) {
            accent.classList.remove('bg-gray-300');
            accent.classList.add('bg-[#c00d1e]');
          }

          // Desktop tab text styling
          if (title && desc) {
            title.classList.remove('text-gray-400');
            title.classList.add('text-black');
            desc.classList.remove('text-gray-500');
            desc.classList.add('text-black');
          }
        } else {
          tab.classList.remove('active');
          if (accent) {
            accent.classList.remove('bg-[#c00d1e]');
            accent.classList.add('bg-gray-300');
          }

          // Desktop tab text styling
          if (title && desc) {
            title.classList.remove('text-black');
            title.classList.add('text-gray-400');
            desc.classList.remove('text-black');
            desc.classList.add('text-gray-500');
          }
        }
      });
    }

    function autoScroll() {
      currentIndex = (currentIndex + 1) % bannerData.length;
      updateBanner();
      updateTabs();
    }

    function startAutoScroll() {
      autoScrollTimer = setInterval(autoScroll, 4000); // Change every 4 seconds
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', () => {
      updateTabs();
      updateBanner();
      startAutoScroll();
    });
  </script>

  <script>
    const techmodal = document.getElementById("techmodal");
    const closeTechModal = document.querySelector(".techmodal-close");
    const techIframe = document.getElementById("techmodal-iframe");

    const techVideoURL = "https://www.youtube.com/embed/nu4N6ER5VB4?si=j6WBiQBTYwHYpotO&autoplay=1&rel=0";
    const youtubeDirectURL = "https://www.youtube.com/watch?v=nu4N6ER5VB4";

    function openTechVideoModal() {
      // Check if mobile (screen width < 768px)
      if (window.innerWidth < 768) {
        // On mobile, open YouTube directly in new tab
        window.open(youtubeDirectURL, '_blank');
      } else {
        // On desktop, open modal
        techIframe.src = techVideoURL;
        techmodal.style.display = "block";
      }
    }

    closeTechModal.addEventListener("click", closeModal);

    window.addEventListener("click", (e) => {
      if (e.target === techmodal) closeModal();
    });

    function closeModal() {
      techmodal.style.display = "none";
      techIframe.src = ""; // stop video
    }
  </script>
</body>

</html>