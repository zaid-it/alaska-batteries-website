<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alaska Batteries</title>
    <link rel="icon" type="image/png" href="assets/favicon.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body class="bg-white text-gray-900 font-sans">
    <div id="header-placeholder"></div>

    <main>
      <section class="hero-section relative h-[30vh] md:h-[90vh] flex items-center bg-zinc-100/50 md:p-4 overflow-hidden">
        <!-- Video Background -->
        <video id="heroVideo" class="relative inset-0 w-screen h-full z-0" autoplay muted playsinline webkit-playsinline poster="assets/hero-bg.jpg">
          <source src="assets/videos/home.mp4" type="video/mp4" />
          Your browser does not support HTML5 video.
        </video>

        <!-- Unmute Button -->
        <button
          id="unmuteBtn"
          class="absolute unmute-btn absolute z-30 bg-[#cc001b] text-white rounded-full flex items-center justify-center shadow-sm hover:shadow-2xl transition-all"
          title="Click to unmute video">
          <i class="fa-solid fa-volume-mute text-2xl"></i>
        </button>
      </section>

      <!-- Products Showcase Section -->
      <section class="py-20 bg-gradient-to-b from-white to-gray-50">
        <div class="container mx-auto px-6">
          <div class="text-center mb-16">
            <h2 class="text-5xl md:text-6xl font-black uppercase mb-4 italic">Our <span class="text-[#cc001b]">Product</span> & Applications</h2>
            <p class="text-gray-600 text-lg max-w-2xl mx-auto">
              Our product is the Dry‑charge | Graphite Enhanced Lead‑Acid battery. <br />
              Its common applications include <strong>Automotive</strong>, <strong>Solar</strong>, and <strong>Industrial</strong> use-cases.
            </p>
            <div class="w-24 h-1 bg-[#cc001b] mx-auto rounded-full mt-6"></div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Dry Charge -->

            <!-- Automotive (Application) -->
            <a href="dry-charge.html#Automotive" class="group relative bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105">
              <div class="aspect-video bg-gradient-to-br from-blue-600 to-blue-900 flex items-center justify-center overflow-hidden relative">
                <img src="assets/automotive-home.png" class="fa-solid fa-car text-white text-6xl transition-transform duration-300" />
                <div class="absolute inset-0"></div>
              </div>
              <div class="p-6">
                <h3 class="text-xl font-black uppercase mb-2 text-gray-900">Automotive</h3>
                <p class="text-gray-600 text-sm mb-4">Optimal for all types of vehicles.</p>
                <div class="flex items-center text-[#cc001b] font-bold group-hover:translate-x-2 transition-transform">Learn more <i class="fa-solid fa-arrow-right ml-2"></i></div>
              </div>
            </a>

            <!-- Solar (Application) -->
            <a href="dry-charge.html#Solar" class="group relative bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105">
              <div class="aspect-video bg-gradient-to-br from-yellow-500 to-orange-600 flex items-center justify-center overflow-hidden relative">
                <img src="assets/solar-home.png" class="fa-solid fa-car text-white text-6xl transition-transform duration-300" />
                <div class="absolute inset-0"></div>
              </div>
              <div class="p-6">
                <h3 class="text-xl font-black uppercase mb-2 text-gray-900">Solar & Inverter</h3>
                <p class="text-gray-600 text-sm mb-4">Built for Solar systems and Inverter Backups with long service life.</p>
                <div class="flex items-center text-[#cc001b] font-bold group-hover:translate-x-2 transition-transform">Learn more <i class="fa-solid fa-arrow-right ml-2"></i></div>
              </div>
            </a>

            <!-- Industrial (Application) -->
            <a href="dry-charge.html#Industrial" class="group relative bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105">
              <div class="aspect-video bg-gradient-to-br from-gray-600 to-gray-900 flex items-center justify-center overflow-hidden relative">
                <img src="assets/industrial-home.png" class="fa-solid fa-industry text-white text-6xl transition-transform duration-300" />
                <div class="absolute inset-0"></div>
              </div>
              <div class="p-6">
                <h3 class="text-xl font-black uppercase mb-2 text-gray-900">Commercial & Industrial Use</h3>
                <p class="text-gray-600 text-sm mb-4">Durable energy solutions for heavy duty vehicles.</p>
                <div class="flex items-center text-[#cc001b] font-bold group-hover:translate-x-2 transition-transform">Learn more <i class="fa-solid fa-arrow-right ml-2"></i></div>
              </div>
            </a>
          </div>

          <!-- CTA Button -->
          <div class="flex justify-center mt-12">
            <button
              onclick="openBatteryFinder()"
              class="bg-[#cc001b] text-white px-12 py-4 font-black uppercase tracking-widest text-lg hover:bg-black shadow-2xl transition-all hover:scale-105 rounded-lg">
              <i class="fa-solid fa-bolt mr-3"></i> Find Your Perfect Battery
            </button>
          </div>
        </div>
      </section>

      <!-- Why Graphite Section -->
      <section class="py-10 bg-white">
        <div class="container mx-auto px-6">
          <div class="flex flex-col md:flex-row items-center gap-16">
            <div class="w-full md:w-1/2">
              <img src="assets/technology/tech.png" alt="Graphite Technology" class="w-full max-w-md mx-auto" />
            </div>
            <div class="w-full md:w-1/2">
              <h3 class="text-3xl font-black uppercase mb-6 italic">Why <span class="text-[#cc001b]">Graphite?</span></h3>
              <p class="text-gray-600 mb-6 text-lg">
                Traditional lead-acid batteries face sulfation issues. Our Graphite Enhanced plates offer superior conductivity, reducing internal resistance and increasing battery life by up to 40%.
              </p>
              <ul class="space-y-4 mb-8 font-bold uppercase text-sm">
                <li><i class="fa-solid fa-bolt text-[#cc001b] mr-3"></i> 30% Faster Charging</li>
                <li><i class="fa-solid fa-temperature-arrow-up text-[#cc001b] mr-3"></i> Extreme Heat Resistance</li>
              </ul>
              <a href="graphite.html" class="text-[#cc001b] font-black border-b-2 border-[#cc001b] pb-1 hover:text-black hover:border-black">DISCOVER THE SCIENCE →</a>
            </div>
          </div>
        </div>
      </section>

      <section class="bg-[#0f172a] px-4 py-2 md:py-2 overflow-hidden">
        <div class="container mx-auto px-8">
          <div class="flex flex-col lg:flex-row items-center">
            <div class="w-full lg:w-1/2 flex flex-col items-center lg:items-start text-center lg:text-left">
              <h2 class="text-white font-black text-5xl md:text-7xl tracking-wider leading-none mb-4">FIND A<br /><span class="text-[#cc001b]">DEALER</span></h2>
              <p class="text-gray-300 text-m md:text-base max-w-md mx-auto lg:mx-1 mb-8 leading-relaxed">
                Connect with authorized Alaska Battery partners across Pakistan for genuine products and warranty support.
              </p>
              <div class="flex justify-left lg:justify-left">
                <a href="#" class="bg-[#cc001b] text-white font-black uppercase tracking-widest text-[18px] px-10 py-4 hover:bg-white hover:text-black transition-all shadow-lg"> Open Locator </a>
              </div>
            </div>

            <div class="w-full lg:w-1/2 flex justify-center items-center">
              <div class="relative w-full max-w-[500px] lg:max-w-none">
                <img
                  src="assets/dealer-map.png"
                  alt="Alaska Dealer Map"
                  class="w-full h-auto object-contain opacity-100 hover:grayscale-0 hover:opacity-100 transition-all duration-700 pointer-events-none" />
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <div id="footer-placeholder"></div>

    <script src="js/components.js"></script>
    <script src="js/main.js"></script>
    <script>
      const section = document.getElementById("products-interactive");
      const title = document.getElementById("scrollTitle");
      const navLabels = document.querySelectorAll(".nav-label");

      // 1. Hover/Touch Activation
      function activateRow(id) {
        deactivateRows();
        const bg = document.getElementById("bg-" + id);
        if (bg) {
          bg.style.opacity = "1";
          bg.style.transform = "scale(1.05)"; // Subtle zoom in
        }
        navLabels.forEach((label) => label.classList.add("text-white"));
        title.style.color = "#cc001b";
      }

      function deactivateRows() {
        ["dry", "deep", "mf", "lfp"].forEach((id) => {
          const el = document.getElementById("bg-" + id);
          if (el) {
            el.style.opacity = "0";
            el.style.transform = "scale(1)"; // Reset zoom
          }
        });
        navLabels.forEach((label) => label.classList.remove("text-white"));
      }

      // 2. Scroll Intersection (Detecting when the section is in view)
      const observerOptions = { threshold: 0.5 }; // Trigger when 50% of section is visible

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // Section entered view: Title turns Black as per your request
            title.style.color = "#000000";
          } else {
            // Section left view: Reset Title to Red and Backgrounds to White
            title.style.color = "#cc001b";
            deactivateRows();
            title.style.color = "#cc001b";
          }
        });
      }, observerOptions);

      observer.observe(section);
    </script>

    <!-- Hero Video Volume & Playback Control -->
    <script>
      const heroVideo = document.getElementById("heroVideo");
      const unmuteBtn = document.getElementById("unmuteBtn");
      let playbackCount = 0;
      let isUnmuted = false;

      // Set initial volume to 10% (while muted)
      heroVideo.volume = 0.1;

      // Unmute button click handler
      unmuteBtn.addEventListener("click", () => {
        if (!isUnmuted) {
          heroVideo.muted = false;
          isUnmuted = true;
          unmuteBtn.classList.add("unmuted");
          unmuteBtn.innerHTML = '<i class="fa-solid fa-volume-high text-2xl"></i>';
          unmuteBtn.title = "Mute video";

          // Ensure video plays after unmute
          heroVideo.play().catch(() => {
            /* play may be blocked by browser */
          });
        } else {
          heroVideo.muted = true;
          isUnmuted = false;
          unmuteBtn.classList.remove("unmuted");
          unmuteBtn.innerHTML = '<i class="fa-solid fa-volume-mute text-2xl"></i>';
          unmuteBtn.title = "Click to unmute video";
        }
      });

      // Pause video when user scrolls away from hero section
      const heroObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) {
              // Hero section is out of view
              heroVideo.pause();
            } else {
              // Hero section is in view (resume auto-replay if within 3 playbacks)
              if (playbackCount < 3 && heroVideo.paused) {
                heroVideo.play().catch(() => {
                  /* play may be blocked */
                });
              }
            }
          });
        },
        { threshold: 0 },
      );

      heroObserver.observe(heroVideo.parentElement);

      // Track playback count and replay up to 3 times, then stop
      heroVideo.addEventListener("ended", () => {
        playbackCount++;
        if (playbackCount < 3) {
          heroVideo.play().catch(() => {
            /* play blocked (autoplay policy) */
          });
        } else {
          heroVideo.pause();
          heroVideo.currentTime = 0;
        }
      });
    </script>

    <script src="js/animations.js"></script>
  </body>
</html>
